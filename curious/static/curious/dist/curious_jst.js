window.JST = window.JST || {};
var template = function(str){var fn = new Function('obj', 'var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push(\''+str.replace(/\\/g, '\\\\').replace(/'/g, "\\'").replace(/<%=([\s\S]+?)%>/g,function(match,code){return "',"+code.replace(/\\'/g, "'")+",'";}).replace(/<%([\s\S]+?)%>/g,function(match,code){return "');"+code.replace(/\\'/g, "'").replace(/[\r\n\t]/g,' ')+"__p.push('";}).replace(/\r/g,'\\r').replace(/\n/g,'\\n').replace(/\t/g,'\\t')+"');}return __p.join('');");return fn;};
window.JST['query'] = template('<p ng-if="search_error">\n  Error: {{ search_error }}\n</p>\n\n<p ng-if="completed && success && !last_model">\n  <em>No matching data</em>\n</p>\n\n<div ng-if="completed && success && last_model">\n\n<!-- join queries -->\n<div class="well">\n  <div class="input-group" ng-repeat="join_query in q_j.prev_joins track by $index">\n    <span class="input-group-addon">Joined</span>\n    <input class="form-control" ng-model="join_query" disabled />\n  </div>\n  <div ng-if="q_j.last_join">\n    <form ng-submit="extendJoin()">\n      <div class="input-group">\n        <span class="input-group-addon">Join</span>\n        <input class="form-control" ng-model="q_j.last_join" />\n      </div>\n    </form>\n  </div>\n  <form ng-submit="newJoin()">\n    <div class="input-group">\n      <span class="input-group-addon">New Join</span>\n      <input class="form-control" ng-model="q_j.new_join" />\n    </div>\n  </form>\n</div>\n\n<p ng-if="query_error">\n  <span class="label label-danger">Query Syntax Error</span>\n  <code>{{ query_error }}</code>\n</p>\n\n<div id="results-header">\n  <span>{{ entries.length }} row(s) of <b>{{ last_model }}</b></span>\n  <div id="recommended_rels" class="dropdown navbar-right">\n    <a data-toggle="dropdown" href="javascript:void(0);">Relations from {{ last_model }}</a>\n    <ul class="rel-list dropdown-menu" role="menu">\n      <li ng-repeat="rel in last_model_rels">\n        <span class="rel-actions">\n          <a class="btn btn-xs btn-info" href=\'javascript:void(0);\' title="Extend main query"\n             ng-click="addRelToQuery(q_j.main_query, last_model, rel)">Q</a>\n          <span ng-if="q_j.last_join">\n            <a class="btn btn-xs btn-info" href=\'javascript:void(0);\' title="Extend last join"\n               ng-click="addRelToJoin(last_model, rel)">E</a>\n          </span>\n          <a class="btn btn-xs btn-info" href=\'javascript:void(0);\' title="New join"\n             ng-click="addJoinToQuery(last_model, rel)">J</a>\n        </span>\n        <span class="rel-name">{{ rel }}</span>\n      </li>\n    </ul>\n  </div> <!-- recommended_rels -->\n</div>\n\n<table class="table table-condensed table-striped table-bordered table-fixed" ng-if="tbl_attrs">\n  <tr class="success">\n    <td class="wrap"\n        ng-repeat="q in tbl_queries track by $index" colspan="{{ q.cols }}">{{ q.query }}</td>\n  </tr>\n  <tr class="success">\n    <th class="wrap"\n        ng-repeat="attr in tbl_attrs track by $index">{{ attr }}</th>\n  </tr>\n  <tr ng-repeat="entry in entries track by $index">\n    <td class="wrap"\n        ng-repeat="object in entry track by $index">\n      {{ object.ptr.id|showAttr }}\n    </td>\n    <!-- show details of obj from last query -->\n    <td class="wrap"\n        ng-repeat="attr in tbl_last_attrs track by $index">\n      {{ entry[entry.length-1].ptr[attr]|showAttr }}\n    </td>\n  </tr>\n</table>\n\n</div> <!-- if for query and table -->\n');
window.JST['search'] = template('<div class="container-fluid">\n\n<p>\n  <a href="#/" class="lead">Curious</a>\n</p>\n\n<div class="well">\n  <form ng-submit="submitQuery()">\n    <div class="input-group">\n      <span class="input-group-addon">Query</span>\n      <input class="form-control" ng-model="query" ng-change="delayCheckQuery()" />\n    </div>\n  </form>\n</div>\n\n<p ng-if="query_error">\n  <span class="label label-danger">Query Syntax Error</span>\n  <code>{{ query_error }}</code\n</p>\n\n<p ng-if="query_accepted">\n  <span class="label label-info">Valid Query</span>\n  <code>{{ query_accepted }}</code>\n</p>\n\n<div id="results">\n  <div ng-repeat="query in query_submitted">\n    <partial template="query" ng-controller="QueryController"></partial>\n  </div>\n</div>\n\n<div id="queries">\n  <p><h4>Recent Queries</h4></p>\n  <div ng-repeat="query in recent_queries">\n    <a href="#/q/{{ query|encodeURI }}">{{ query }}</a>\n  </div>\n</div>\n\n</div> <!-- container-fluid -->\n');
