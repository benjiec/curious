<div class="container-fluid">

<p>
  <a href="#/" class="lead">Curious</a>
</p>

<div class="well">
  <div class="row">
  <form>
    <div class="col-md-10">
      <textarea id="query" class="form-control" placeholder='Enter query'
       ng-model="query" ng-change="delayCheckQuery()" /></textarea>
    </div>
    <button type="submit" class="btn btn-primary" ng-click="submitQuery()">Search</button>
    <button type="submit" class="btn btn-warning" ng-click="submitQuery(true)">Refresh</button>
  </form>
  </div>
</div>

<p ng-if="query_error">
  <span class="label label-danger">Query Syntax Error</span>
  <code>{{ query_error }}</code
</p>

<p ng-if="query_accepted">
  <span class="label label-info">Valid Query</span>
  <code>{{ query_accepted }}</code>
</p>

<div id="results">
  <div ng-repeat="query_info in query_submitted">
    <partial template="query" ng-controller="QueryController"></partial>
  </div>
</div>

<div id="queries">
  <p><h4>Recent Queries</h4></p>
  <div ng-repeat="query in recent_queries">
    <a href="#/q/{{ query|encodeURIComponent }}">{{ query }}</a>
  </div>
</div>

<div id="modules">
  <p><h4>Models</h4></p>
  <table class="table table-bordered table-condensed">
    <tr><td>Module</td><td>Models</td></tr>
    <tr ng-repeat="module in modules">
      <td>{{ module.module }}</td>
      <td>
        <span ng-repeat="model in module.models">
          <a href="#/q/{{ model }}.last(1)">{{ model }}</a>
        </span>
      </td>
    </tr>
  </table>
</div>

</div> <!-- container-fluid -->
